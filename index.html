<html>
    <head>
        <title>AudioBrush</title>
        <script src="boot.js" type="text/javascript"></script>
        <script>
            function chooseTool1() {
                audioBrush.selectTool(new audioBrush.WaveShaper());
                audioBrush.selectBrush(new audioBrush.Brush());
                audioBrush.selectedBrush.xL = -50;
                audioBrush.selectedBrush.xR = 50;
            }
            function chooseTool2() {
                audioBrush.selectTool(new audioBrush.OscTool());
                audioBrush.selectBrush(new audioBrush.Brush());
                audioBrush.selectedBrush.xL = -50;
                audioBrush.selectedBrush.xR = 50;
                audioBrush.selectedBrush.weight = 0.1;
            }
            function chooseTool3() {
                audioBrush.selectTool(new audioBrush.BitCrusher());
                audioBrush.selectBrush(new audioBrush.Brush());
                audioBrush.selectedBrush.xL = -50;
                audioBrush.selectedBrush.xR = 50;
            }
            function chooseTool4() {
                audioBrush.selectTool(new audioBrush.FilterTool());
                audioBrush.selectBrush(new audioBrush.Brush());
                audioBrush.selectedBrush.xL = -50;
                audioBrush.selectedBrush.xR = 50;
            }
            function chooseTool5() {
                audioBrush.selectTool(new audioBrush.FilterTool());
                audioBrush.selectedTool.type = "hpf";
                audioBrush.selectBrush(new audioBrush.Brush());
                audioBrush.selectedBrush.xL = -50;
                audioBrush.selectedBrush.xR = 50;
                audioBrush.selectedBrush.weight = 0.5;
            }
            function chooseTool6() {
                audioBrush.selectTool(new audioBrush.DelayTool());
                audioBrush.selectBrush(new audioBrush.Brush());
                audioBrush.selectedBrush.xL = -50;
                audioBrush.selectedBrush.xR = 50;
            }
            function chooseTool7() {
                audioBrush.selectTool(new audioBrush.CompressorTool());
                audioBrush.selectBrush(new audioBrush.Brush());
                audioBrush.selectedBrush.xL = -50;
                audioBrush.selectedBrush.xR = 50;
                //audioBrush.selectedBrush.weight = 0.1;
            }
            function chooseTool8() {
                audioBrush.selectTool(new audioBrush.GainTool());
                audioBrush.selectBrush(new audioBrush.Brush());
                audioBrush.selectedBrush.xL = -50;
                audioBrush.selectedBrush.xR = 50;
                //audioBrush.selectedBrush.weight = 0.1;
            }
            function setActive(chosenOne) {
                var toolbox = document.getElementById("toolbox");
                for(var i in toolbox.childNodes) {
                    toolbox.childNodes[i].className = "tool";
                }
                chosenOne.blur();
                chosenOne.className = "activeTool";
            }
        </script>
    </head>
    <body>
        <div id="topbar">
            <div id="playback">
                <button onclick="disp.sample.play()" class="playButton">play</button>
                <button onclick="audioBrush.playback.play(disp.sample, true);" class="loopPlayButton">loop</button>
                <button onclick="audioBrush.playback.stop();" class="stopButton">stop</button>
            </div>
            <div id="fileControl">
                <button onclick="audioBrush.exportSample()">export</button>
                <input type="file" onchange="audioBrush.loadUserSample(this.files[0])" />
            </div>
        </div>
        <div id="toolbox">
            <h3>tools:</h3>
            <button class="tool" onclick="chooseTool1(); setActive(this)"><img src="distortion.png" /></button>
            <button class="tool" id="oscBtn" onclick="chooseTool2(); setActive(this)"><img src="osc_btn.png" /></button>
            <button class="tool" onclick="chooseTool3(); setActive(this)"><img src="spaceInvader.png" /></button>
            <button class="tool" onclick="chooseTool6(); setActive(this)"><img src="cloneStamp.png" /></button>
            <button class="tool" onclick="chooseTool4(); setActive(this)"><img src="filter_lowpass.png" /></button>
            <button class="tool" onclick="chooseTool5(); setActive(this)"><img src="filter_highpass.png" /></button>
            <button class="tool" onclick="chooseTool7(); setActive(this)"><img src="normalise.png" /></button>
            <button class="tool" onclick="chooseTool8(); setActive(this)"><img src="normalise.png" /></button>
            <div id="toolInspector"></div>
            <div id="brushInspectorWrapper"></div>
        </div>
        <canvas id="mainSample" class="waveDisplay"></canvas>

        <div id="cursorInfo" display="none">INFO</div>
        <div id="tipsWrapper"></div>
    </body>
</html>
